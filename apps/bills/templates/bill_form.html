{% extends 'base.html' %}

{% block title %}
    {% if form.instance.id %}Edit{% else %}Create{% endif %} Bill | Tagihan Bulanan
{% endblock %}

{% block content %}
<div class="max-w-md mx-auto px-4 py-6">
    <h1 class="text-xl font-medium mb-6">
        {% if form.instance.id %}Edit{% else %}Create{% endif %} Bill
    </h1>
    
    <form method="post" class="space-y-4">
        {% csrf_token %}
        
        <div>
            <label for="{{ form.bill_name.id_for_label }}" class="block text-sm text-gray-700 mb-1">Bill Name</label>
            <input type="text" name="{{ form.bill_name.name }}" id="{{ form.bill_name.id_for_label }}" 
                   value="{{ form.bill_name.value|default:'' }}" required
                   class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
        </div>
        
        <div class="flex space-x-3">
            <div class="flex-1">
                <label for="{{ form.bill_amount.id_for_label }}" class="block text-sm text-gray-700 mb-1">Amount</label>
                <input type="number" step="0.01" name="{{ form.bill_amount.name }}" id="{{ form.bill_amount.id_for_label }}" 
                       value="{{ form.bill_amount.value|default:'' }}" required
                       class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
            </div>
            
            <div class="w-24">
                <label for="{{ form.bill_currency.id_for_label }}" class="block text-sm text-gray-700 mb-1">Currency</label>
                <select name="{{ form.bill_currency.name }}" id="{{ form.bill_currency.id_for_label }}" required
                        class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
                    {% for value, label in form.fields.bill_currency.choices %}
                        <option value="{{ value }}" {% if form.bill_currency.value == value %}selected{% endif %}>{{ label }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
        
        <div class="flex space-x-3">
            <div class="flex-1">
                <label for="{{ form.bill_reminder_date.id_for_label }}" class="block text-sm text-gray-700 mb-1">Reminder Date</label>
                <input type="date" name="{{ form.bill_reminder_date.name }}" id="{{ form.bill_reminder_date.id_for_label }}" 
                       value="{{ form.bill_reminder_date.value|date:'Y-m-d'|default:'' }}" required
                       class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
            </div>
            
            <div class="flex-1">
                <label for="{{ form.bill_reminder_time.id_for_label }}" class="block text-sm text-gray-700 mb-1">Reminder Time</label>
                <input type="time" name="{{ form.bill_reminder_time.name }}" id="{{ form.bill_reminder_time.id_for_label }}" 
                       value="{{ form.bill_reminder_time.value|time:'H:i'|default:'' }}" required
                       class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
            </div>
        </div>
        
        <div>
            <label for="{{ form.payment_account.id_for_label }}" class="block text-sm text-gray-700 mb-1">Payment Account</label>
            <input type="text" name="{{ form.payment_account.name }}" id="{{ form.payment_account.id_for_label }}" 
                   value="{{ form.payment_account.value|default:'' }}" required
                   class="w-full px-3 py-2 border rounded focus:outline-none focus:border-blue-500">
        </div>
        
        <div class="flex justify-between pt-2">
            <a href="{% url 'bill-list' %}" class="px-3 py-1.5 border border-gray-300 text-sm rounded hover:bg-gray-50">Cancel</a>
            <button type="submit" class="px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">
                {% if form.instance.id %}Update{% else %}Create{% endif %} Bill
            </button>
        </div>
    </form>
</div>
{% endblock %}